const sortags = require(".");

describe("sortags", () => {
  it("sorts stable tags", () => {
    expect(sortags([
      "2.0.1",
      "0.2.1",
      "1.0.0",
      "2.2.1",
      "2.1.0",
      "1.0.1",
      "0.1.0",
      "1.1.1",
      "1.0.2",
      "2.0.2",
      "1.2.1",
      "0.1.2",
      "2.2.2",
      "0.0.0",
      "0.2.2",
      "1.2.2",
      "1.2.0",
      "2.2.0",
      "0.1.1",
      "2.1.2",
      "1.1.0",
      "2.1.1",
      "2.0.0",
      "0.2.0",
      "1.1.2"
    ])).toEqual([
      "0.0.0",
      "0.1.0",
      "0.1.1",
      "0.1.2",
      "0.2.0",
      "0.2.1",
      "0.2.2",
      "1.0.0",
      "1.0.1",
      "1.0.2",
      "1.1.0",
      "1.1.1",
      "1.1.2",
      "1.2.0",
      "1.2.1",
      "1.2.2",
      "2.0.0",
      "2.0.1",
      "2.0.2",
      "2.1.0",
      "2.1.1",
      "2.1.2",
      "2.2.0",
      "2.2.1",
      "2.2.2"
    ]);
  });

  it("sorts prerelease tags", () => {
    expect(sortags([
      "1.0.0",
      "1.0.0-beta.2",
      "1.0.0-rc.2",
      "1.0.0-alpha.1",
      "1.0.0-0.3.7",
      "1.0.0-rc.1",
      "1.0.0-alpha",
      "1.0.0-x.7.z.92",
      "1.0.0-beta.0"
    ])).toEqual([
      "1.0.0-0.3.7",
      "1.0.0-alpha",
      "1.0.0-alpha.1",
      "1.0.0-beta.0",
      "1.0.0-beta.2",
      "1.0.0-rc.1",
      "1.0.0-rc.2",
      "1.0.0-x.7.z.92",
      "1.0.0"
    ]);
  });

  it("sorts mixed tags", () => {
    expect(sortags([
      "1.2.1",
      "1.2.0",
      "0.2.2",
      "1.0.0-beta.0",
      "0.2.0",
      "1.0.0-beta.2",
      "0.1.0",
      "2.2.2",
      "0.1.1",
      "2.1.2",
      "2.1.1",
      "1.0.2",
      "2.2.0",
      "2.0.2",
      "1.0.0-rc.2",
      "2.0.1",
      "1.0.0-alpha",
      "1.1.1",
      "1.0.0",
      "0.2.1",
      "2.1.0",
      "1.2.2",
      "1.0.0-0.3.7",
      "0.1.2",
      "2.2.1",
      "1.0.0-rc.1",
      "1.1.0",
      "1.0.0-x.7.z.92",
      "1.0.1",
      "0.0.0",
      "1.0.0-alpha.1",
      "2.0.0",
      "1.1.2"
    ])).toEqual([
      "0.0.0",
      "0.1.0",
      "0.1.1",
      "0.1.2",
      "0.2.0",
      "0.2.1",
      "0.2.2",
      "1.0.0-0.3.7",
      "1.0.0-alpha",
      "1.0.0-alpha.1",
      "1.0.0-beta.0",
      "1.0.0-beta.2",
      "1.0.0-rc.1",
      "1.0.0-rc.2",
      "1.0.0-x.7.z.92",
      "1.0.0",
      "1.0.1",
      "1.0.2",
      "1.1.0",
      "1.1.1",
      "1.1.2",
      "1.2.0",
      "1.2.1",
      "1.2.2",
      "2.0.0",
      "2.0.1",
      "2.0.2",
      "2.1.0",
      "2.1.1",
      "2.1.2",
      "2.2.0",
      "2.2.1",
      "2.2.2"
    ]);
  });
});
